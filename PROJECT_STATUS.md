# å†œæ‘ä½å‹é…ç”µç½‘ç”µå‹å¼‚å¸¸æ£€æµ‹ç ”ç©¶ - é¡¹ç›®çŠ¶æ€æŠ¥å‘Š

> æ›´æ–°æ—¶é—´: 2026-02-01
> é¡¹ç›®è·¯å¾„: `/home/zhengxiaodong/exps/Rural-Low-Voltage-Detection`

---

## ä¸€ã€é¡¹ç›®æ¦‚è§ˆ

æœ¬é¡¹ç›®æ˜¯åŸºäºæ¸…åå¤§å­¦ Time-Series-Library æ¡†æ¶çš„ç ”ç©¶ç”Ÿæ¯•ä¸šè®ºæ–‡é¡¹ç›®ï¼Œæ ¸å¿ƒä»»åŠ¡æ˜¯å¼€å‘æ·±åº¦å­¦ä¹ æ¨¡å‹æ£€æµ‹å†œæ‘ç”µç½‘çš„å¼‚å¸¸ç”µå‹çŠ¶æ€ã€‚

### 1.1 æ ¸å¿ƒæŒ‡æ ‡

| æŒ‡æ ‡ | æ•°å€¼ | è¯´æ˜ |
|------|------|------|
| æ”¯æŒæ¨¡å‹æ•° | 21 | 15åŸºçº¿ + 6åˆ›æ–° |
| æ”¯æŒæ•°æ®é›† | 7 | PSM, MSL, SMAP, SMD, SWAT, RuralVoltage, KagglePQ |
| PSMæœ€ä½³F1 | 97.35% | TimesNet |
| RuralVoltageæœ€ä½³Recall | 71.13% | VoltageTimesNet_v2 (anomaly_ratio=3.0) |

### 1.2 é¡¹ç›®å®Œæˆåº¦

```
ä»£ç å®ç°: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
PSMå®éªŒ:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
RuralVoltageå®éªŒ: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 80%  (å®Œæ•´å®éªŒè¿è¡Œä¸­)
KagglePQå®éªŒ: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 40%  (æ•°æ®å‡†å¤‡å®Œæˆ)
è®ºæ–‡ç¼–å†™: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 60%
```

---

## äºŒã€ä»£ç å®ç°çŠ¶æ€

### 2.1 æ¨¡å‹å®ç° (19ä¸ª)

#### åŸºçº¿æ¨¡å‹ (15ä¸ª) âœ… å…¨éƒ¨å®Œæˆ

| æ¨¡å‹ | æ–‡ä»¶ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|------|
| TimesNet | `models/TimesNet.py` | âœ… | æ ¸å¿ƒæ¨¡å‹ï¼šFFT + 2Då·ç§¯å‘¨æœŸå»ºæ¨¡ |
| Transformer | `models/Transformer.py` | âœ… | æ ‡å‡†Transformerç¼–ç å™¨ |
| DLinear | `models/DLinear.py` | âœ… | è½»é‡çº§ï¼šåºåˆ—åˆ†è§£ + çº¿æ€§å±‚ |
| PatchTST | `models/PatchTST.py` | âœ… | åˆ†å—æ—¶åºTransformer |
| iTransformer | `models/iTransformer.py` | âœ… | å€’ç½®Transformer |
| Autoformer | `models/Autoformer.py` | âœ… | è‡ªç›¸å…³æœºåˆ¶ |
| Informer | `models/Informer.py` | âœ… | ProbSparseæ³¨æ„åŠ› |
| FiLM | `models/FiLM.py` | âœ… | é¢‘ç‡å¢å¼ºæ¨¡å‹ |
| LightTS | `models/LightTS.py` | âœ… | è½»é‡çº§æ—¶åºæ¨¡å‹ |
| SegRNN | `models/SegRNN.py` | âœ… | åˆ†æ®µRNN |
| KANAD | `models/KANAD.py` | âœ… | çŸ¥è¯†æ³¨å…¥æ¨¡å‹ |
| Nonstationary_Transformer | `models/Nonstationary_Transformer.py` | âœ… | éå¹³ç¨³Transformer |
| MICN | `models/MICN.py` | âœ… | å¤šå°ºåº¦Inceptionå·ç§¯ |
| TimeMixer | `models/TimeMixer.py` | âœ… | æ—¶é—´æ··åˆå™¨ |
| Reformer | `models/Reformer.py` | âœ… | å±€éƒ¨æ•æ„Ÿå“ˆå¸Œæ³¨æ„åŠ› |

#### åˆ›æ–°æ¨¡å‹ (6ä¸ª) âœ… å…¨éƒ¨å®Œæˆ

| æ¨¡å‹ | æ–‡ä»¶ | è¡Œæ•° | æ ¸å¿ƒåˆ›æ–° |
|------|------|------|----------|
| VoltageTimesNet | `models/VoltageTimesNet.py` | 433 | é¢„è®¾å‘¨æœŸ(30%) + FFT(70%)æ··åˆç­–ç•¥ |
| **VoltageTimesNet_v2** | `models/VoltageTimesNet_v2.py` | 550+ | **å¬å›ç‡ä¼˜åŒ–**ï¼šå¯å­¦ä¹ æƒé‡ + å¼‚å¸¸æ”¾å¤§å™¨ + å¤šå°ºåº¦å·ç§¯ |
| TPATimesNet | `models/TPATimesNet.py` | 360 | ä¸‰ç›¸æ³¨æ„åŠ›æœºåˆ¶ï¼Œ120Â°ç›¸ä½çº¦æŸ |
| MTSTimesNet | `models/MTSTimesNet.py` | 414 | å¤šå°ºåº¦å¹¶è¡Œåˆ†æ”¯(çŸ­/ä¸­/é•¿æœŸ) |
| HybridTimesNet | `models/HybridTimesNet.py` | 422 | æ··åˆå‘¨æœŸå‘ç°ï¼Œç½®ä¿¡åº¦èåˆ |
| AdaptiveVoltageTimesNet | `models/AdaptiveVoltageTimesNet.py` | 400+ | è‡ªé€‚åº”å‘¨æœŸå‘ç° |

### 2.2 æ¨¡å‹æ³¨å†Œè¡¨

ä½ç½®: `code/models/__init__.py`

```python
model_dict = {
    # åŸºçº¿æ¨¡å‹ (15ä¸ª)
    "TimesNet", "Transformer", "DLinear", "PatchTST", "iTransformer",
    "Autoformer", "Informer", "FiLM", "LightTS", "SegRNN",
    "KANAD", "Nonstationary_Transformer", "MICN", "TimeMixer", "Reformer",
    # åˆ›æ–°æ¨¡å‹ (4ä¸ª)
    "VoltageTimesNet", "TPATimesNet", "MTSTimesNet", "HybridTimesNet"
}
```

### 2.3 æ ¸å¿ƒæ¨¡å—ç»“æ„

```
code/
â”œâ”€â”€ run.py (269è¡Œ)                      # ä¸»å…¥å£è„šæœ¬
â”œâ”€â”€ exp/
â”‚   â””â”€â”€ exp_anomaly_detection.py        # å®éªŒç±»: train()/test()
â”œâ”€â”€ models/                             # 19ä¸ªæ¨¡å‹å®ç°
â”œâ”€â”€ data_provider/
â”‚   â”œâ”€â”€ data_factory.py                 # æ•°æ®å·¥å‚
â”‚   â””â”€â”€ data_loader.py                  # 6ä¸ªæ•°æ®é›†åŠ è½½å™¨
â”œâ”€â”€ layers/                             # 11ä¸ªç½‘ç»œå±‚ç»„ä»¶
â”‚   â”œâ”€â”€ Embed.py                        # TokenEmbedding, PositionalEmbedding
â”‚   â”œâ”€â”€ SelfAttention_Family.py         # FullAttention, ProbAttention
â”‚   â”œâ”€â”€ Conv_Blocks.py                  # Inception 2Då·ç§¯
â”‚   â”œâ”€â”€ ThreePhaseAttention.py          # ä¸‰ç›¸æ³¨æ„åŠ›å±‚ (æ–°å¢)
â”‚   â””â”€â”€ VoltageEmbed.py                 # ç”µå‹ç‰¹å®šåµŒå…¥ (æ–°å¢)
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ tools.py                        # EarlyStopping, StandardScaler
â”‚   â”œâ”€â”€ voltage_metrics.py              # ç”µå‹å¼‚å¸¸æ£€æµ‹æŒ‡æ ‡
â”‚   â”œâ”€â”€ plot_style.py                   # ä¸­æ–‡ç»˜å›¾é…ç½®
â”‚   â””â”€â”€ font_config.py                  # å­—ä½“é…ç½®
â”œâ”€â”€ scripts/                            # è®­ç»ƒè„šæœ¬
â”œâ”€â”€ dataset/                            # æ•°æ®é›†
â”œâ”€â”€ checkpoints/                        # æ¨¡å‹æ£€æŸ¥ç‚¹
â””â”€â”€ results/                            # å®éªŒç»“æœ
```

---

## ä¸‰ã€æ•°æ®é›†çŠ¶æ€

### 3.1 æ ‡å‡†åŸºå‡†æ•°æ®é›†

| æ•°æ®é›† | ç‰¹å¾æ•° | è®­ç»ƒé›† | æµ‹è¯•é›† | æ•°æ®çŠ¶æ€ | å®éªŒçŠ¶æ€ |
|--------|--------|--------|--------|----------|----------|
| PSM | 25 | 132,481 | 87,841 | âœ… å·²ä¸‹è½½ | âœ… å·²å®Œæˆ |
| MSL | 55 | 58,317 | 73,729 | âœ… å·²ä¸‹è½½ | â³ å¾…åš |
| SMAP | 25 | 135,183 | 427,617 | âœ… å·²ä¸‹è½½ | â³ å¾…åš |
| SMD | 38 | 708,405 | 708,420 | âœ… å·²ä¸‹è½½ | â³ å¾…åš |
| SWAT | 51 | 495,000 | 449,919 | âœ… å·²ä¸‹è½½ | â³ å¾…åš |

### 3.2 RuralVoltage æ•°æ®é›†

#### ä¸»æ•°æ®é›† (realistic_v2 - æ”¹è¿›ç‰ˆ)
- ä½ç½®: `code/dataset/RuralVoltage/realistic_v2/`
- ç‰¹å¾æ•°: 16
- è®­ç»ƒé›†: **50,000** æ ·æœ¬ (çº¯æ­£å¸¸æ•°æ®)
- æµ‹è¯•é›†: **10,000** æ ·æœ¬ (14.6% å¼‚å¸¸)
- å¼‚å¸¸ç±»å‹: 9 ç§ï¼ˆå«å¤åˆå¼‚å¸¸ï¼‰
- ç‰¹ç‚¹: æ¸å˜è¿‡æ¸¡ã€1/f å™ªå£°ã€ä¸‰ç›¸è€¦åˆ

### 3.3 Kaggle Power Quality æ•°æ®é›† (æ–°å¢)

- ä½ç½®: `code/dataset/Kaggle_PowerQuality_2/`
- ç‰¹å¾æ•°: 128 (æ³¢å½¢é‡‡æ ·ç‚¹)
- è®­ç»ƒé›†: **2,400** æ ·æœ¬ (Class 3 ä½œä¸ºæ­£å¸¸)
- æµ‹è¯•é›†: **9,598** æ ·æœ¬ (93.7% å¼‚å¸¸)
- æ¥æº: Kaggle PowerQualityDistributionDataset1

#### 16ç»´ç‰¹å¾ä½“ç³»

| ç±»åˆ« | ç‰¹å¾ | è¯´æ˜ |
|------|------|------|
| ä¸‰ç›¸ç”µå‹ | Va, Vb, Vc | 200-240V èŒƒå›´ |
| ä¸‰ç›¸ç”µæµ | Ia, Ib, Ic | 10-20A èŒƒå›´ |
| åŠŸç‡æŒ‡æ ‡ | P, Q, S, PF | æœ‰åŠŸ/æ— åŠŸ/è§†åœ¨åŠŸç‡åŠåŠŸç‡å› æ•° |
| ç”µèƒ½è´¨é‡ | THD_Va, THD_Vb, THD_Vc | è°æ³¢å¤±çœŸç‡ |
| ä¸å¹³è¡¡å› å­ | V_unbalance, I_unbalance | ä¸‰ç›¸ä¸å¹³è¡¡ç¨‹åº¦ |
| é¢‘ç‡ | Freq | 50Hz æ ‡å‡†é¢‘ç‡ |

#### 5ç§å¼‚å¸¸ç±»å‹

1. **æ¬ å‹ (Undervoltage)**: V < 198V
2. **è¿‡å‹ (Overvoltage)**: V > 235V
3. **ç”µå‹éª¤é™ (Voltage_Sag)**: ç¬æ—¶ä¸‹é™ >10%
4. **è°æ³¢ç•¸å˜ (Harmonic)**: THD > 5%
5. **ä¸‰ç›¸ä¸å¹³è¡¡ (Unbalance)**: ä¸å¹³è¡¡åº¦ > 2%

#### é’ˆå¯¹æ€§å­æ•°æ®é›†

| å­æ•°æ®é›† | ç›®æ ‡æ¨¡å‹ | è®­ç»ƒé›† | æµ‹è¯•é›† | å¼‚å¸¸æ¯”ä¾‹ | å¼‚å¸¸ç±»å‹æ•° |
|----------|----------|--------|--------|----------|------------|
| periodic_load | VoltageTimesNet | 10,000 | 3,000 | 15% | 2 |
| three_phase | TPATimesNet | 10,000 | 3,000 | 23.3% | 8 |
| multi_scale | MTSTimesNet | 15,000 | 5,000 | 47.4% | 10 |
| hybrid_period | HybridTimesNet | 12,000 | 4,000 | 60.2% | 4 |
| comprehensive | æ‰€æœ‰æ¨¡å‹ | 20,000 | 6,000 | 48.8% | 6 |

---

## å››ã€å®éªŒå®ŒæˆçŠ¶æ€

### 4.1 PSM æ•°æ®é›†å¯¹æ¯”å®éªŒ âœ… å·²å®Œæˆ

- **å®éªŒæ—¶é—´**: 2026-01-25
- **ç»“æœç›®å½•**: `code/results/PSM_comparison_20260125_013217/`
- **æ¨¡å‹æ•°é‡**: 8ä¸ª

#### æ€§èƒ½æ’å

| æ’å | æ¨¡å‹ | å‡†ç¡®ç‡ | ç²¾ç¡®ç‡ | å¬å›ç‡ | F1åˆ†æ•° |
|:----:|:-----|:------:|:------:|:------:|:------:|
| ğŸ¥‡ | TimesNet | 98.55% | 98.48% | 96.25% | **97.35%** |
| ğŸ¥ˆ | VoltageTimesNet | 98.53% | 98.40% | 96.25% | **97.31%** |
| ğŸ¥‰ | TPATimesNet | 98.50% | 98.44% | 96.12% | **97.27%** |
| 4 | DLinear | 98.16% | 98.64% | 94.66% | 96.61% |
| 5 | MTSTimesNet | 97.97% | 97.56% | 95.06% | 96.29% |
| 6 | iTransformer | 97.22% | 97.98% | 91.85% | 94.82% |
| 7 | Transformer | 95.24% | 99.38% | 83.35% | 90.66% |
| 8 | Autoformer | 94.17% | 99.99% | 78.99% | 88.26% |

#### å…³é”®å‘ç°

1. **åˆ›æ–°æ¨¡å‹è¡¨ç°ä¼˜å¼‚**: 3ä¸ªåˆ›æ–°æ¨¡å‹è¿›å…¥å‰5å
2. **VoltageTimesNet**: ä»…ä½äºTimesNet 0.04% F1åˆ†æ•°
3. **TPATimesNet**: ä»…ä½äºTimesNet 0.08% F1åˆ†æ•°
4. **MTSTimesNet**: å¤šå°ºåº¦è®¾è®¡åœ¨é€šç”¨æ•°æ®é›†ä¹Ÿæœ‰è‰¯å¥½è¡¨ç°

#### ç”Ÿæˆçš„åˆ†ææ–‡ä»¶

```
code/results/PSM_comparison_20260125_013217/analysis_20260125_135502/
â”œâ”€â”€ è®­ç»ƒæ›²çº¿å¯¹æ¯”.png (470KB)
â”œâ”€â”€ æ€§èƒ½æŒ‡æ ‡å¯¹æ¯”.png (255KB)
â”œâ”€â”€ é›·è¾¾å›¾å¯¹æ¯”.png (561KB)
â”œâ”€â”€ F1åˆ†æ•°å¯¹æ¯”.png (159KB)
â”œâ”€â”€ ROCæ›²çº¿.png (445KB)
â”œâ”€â”€ PRæ›²çº¿.png (298KB)
â”œâ”€â”€ æ€§èƒ½çƒ­åŠ›å›¾.png (255KB)
â”œâ”€â”€ æ··æ·†çŸ©é˜µ_TimesNet.png (135KB)
â”œâ”€â”€ å®éªŒç»“æœ.json (1.6KB)
â”œâ”€â”€ å®éªŒåˆ†ææŠ¥å‘Š.md (4.4KB)
â””â”€â”€ ç§‘å­¦å®éªŒåˆ†ææŠ¥å‘Š.md (14KB)
```

### 4.2 å·²ä¿å­˜çš„æ£€æŸ¥ç‚¹

```
code/checkpoints/
â”œâ”€â”€ PSM_TimesNet_*        # æœ€ä½³æ¨¡å‹
â”œâ”€â”€ PSM_VoltageTimesNet_*
â”œâ”€â”€ PSM_TPATimesNet_*
â”œâ”€â”€ PSM_MTSTimesNet_*
â”œâ”€â”€ PSM_HybridTimesNet_*
â”œâ”€â”€ PSM_DLinear_*
â”œâ”€â”€ PSM_iTransformer_*
â”œâ”€â”€ PSM_Transformer_*
â””â”€â”€ PSM_Autoformer_*
```

### 4.3 RuralVoltage å®éªŒç»“æœ (2026-02-01)

#### å¿«é€Ÿå¯¹æ¯”å®éªŒ (3 epochs)

| æ¨¡å‹ | Accuracy | Precision | Recall | F1-score |
|------|:--------:|:---------:|:------:|:--------:|
| TimesNet | 0.9098 | 0.7609 | 0.5660 | 0.6492 |
| VoltageTimesNet | 0.9116 | 0.7703 | 0.5712 | 0.6559 |
| **VoltageTimesNet_v2** | 0.9105 | 0.7604 | **0.5740** | 0.6542 |

#### é˜ˆå€¼è°ƒä¼˜ (VoltageTimesNet_v2)

| anomaly_ratio | Precision | Recall | F1-score |
|:-------------:|:---------:|:------:|:--------:|
| 1.0 (99%) | 0.76 | 0.57 | 0.65 |
| 2.0 (98%) | 0.61 | **0.67** | **0.64** |
| 3.0 (97%) | 0.51 | **0.71** | 0.60 |

**ç»“è®º**: é€šè¿‡è°ƒæ•´ `anomaly_ratio=3.0`ï¼Œå¬å›ç‡å¯è¾¾ **71.13%**ï¼Œæ»¡è¶³ç›®æ ‡ 70%+

### 4.4 å¾…å®Œæˆå®éªŒ

| å®éªŒ | çŠ¶æ€ | ä¼˜å…ˆçº§ | é¢„è®¡å·¥ä½œé‡ |
|------|------|--------|------------|
| RuralVoltage å®Œæ•´å¯¹æ¯” (10 epochs) | ğŸ”„ è¿›è¡Œä¸­ | é«˜ | 2h |
| KagglePQ å®Œæ•´å¯¹æ¯” | ğŸ”„ è¿›è¡Œä¸­ | é«˜ | 1h |
| MSL æ•°æ®é›†å¯¹æ¯” | â³ å¾…åš | ä¸­ | 2h |
| SMAP æ•°æ®é›†å¯¹æ¯” | â³ å¾…åš | ä¸­ | 2h |
| æ¶ˆèå®éªŒ (é¢„è®¾å‘¨æœŸæ¯”ä¾‹) | âœ… å·²å®Œæˆ | é«˜ | - |
| æ¶ˆèå®éªŒ (é˜ˆå€¼æ•æ„Ÿåº¦) | âœ… å·²å®Œæˆ | é«˜ | - |

---

## äº”ã€è®ºæ–‡çŠ¶æ€

### 5.1 è®ºæ–‡ç»“æ„

- **æ¨¡æ¿**: åŒ—äº¬æ—ä¸šå¤§å­¦å®˜æ–¹æ¨¡æ¿ (BJFUThesis)
- **ä½ç½®**: `thesis/`

### 5.2 ç« èŠ‚çŠ¶æ€

| ç« èŠ‚ | æ–‡ä»¶ | è¡Œæ•° | çŠ¶æ€ | å®Œæˆåº¦ |
|------|------|------|------|--------|
| ç»ªè®º | `chap00.tex` | 129 | âœ… å®Œæˆ | 90% |
| ç¬¬ä¸€ç« : æ•°æ®é‡‡é›†ä¸é¢„å¤„ç† | `chap01.tex` | 92 | ğŸ”„ ç¼–å†™ä¸­ | 30% |
| ç¬¬äºŒç« : TimesNetå¼‚å¸¸æ£€æµ‹ | `chap02.tex` | 106 | ğŸ”„ ç¼–å†™ä¸­ | 25% |
| ç¬¬ä¸‰ç« : å®éªŒè®¾è®¡ä¸ç»“æœ | `chap03.tex` | 131 | ğŸ”„ ç¼–å†™ä¸­ | 20% |
| ç¬¬å››ç« : ç›‘ç®¡å¹³å°è®¾è®¡ | `chap04.tex` | 119 | ğŸ”„ ç¼–å†™ä¸­ | 15% |
| ç¬¬äº”ç« : ç»“è®ºä¸å±•æœ› | `chap05.tex` | 63 | ğŸ”„ ç¼–å†™ä¸­ | 10% |

### 5.3 ç« èŠ‚-ä»£ç å¯¹åº”å…³ç³»

| ç« èŠ‚ | å¯¹åº”ä»£ç æ¨¡å— |
|------|-------------|
| ç¬¬ä¸€ç«  | `data_provider/`, `dataset/RuralVoltage/generate_sample_data.py` |
| ç¬¬äºŒç«  3.2 | `models/TimesNet.py`, `layers/Conv_Blocks.py`, `layers/Embed.py` |
| ç¬¬äºŒç«  3.3.1 | `models/VoltageTimesNet.py` |
| ç¬¬äºŒç«  3.3.2 | `models/TPATimesNet.py` |
| ç¬¬äºŒç«  3.3.3 | `models/MTSTimesNet.py` |
| ç¬¬äºŒç«  3.3.4 | `models/HybridTimesNet.py` |
| ç¬¬äºŒç«  3.4-3.5 | `exp/exp_anomaly_detection.py` |
| ç¬¬ä¸‰ç«  | `run.py`, `scripts/*.sh`, `results/` |

---

## å…­ã€è®­ç»ƒè„šæœ¬çŠ¶æ€

### 6.1 è„šæœ¬ç›®å½•ç»“æ„

```
code/scripts/
â”œâ”€â”€ PSM/
â”‚   â”œâ”€â”€ config.sh              # å…¬å…±é…ç½®
â”‚   â””â”€â”€ run_comparison.sh      # å¤šæ¨¡å‹å¯¹æ¯”å®éªŒ âœ…
â”œâ”€â”€ RuralVoltage/
â”‚   â”œâ”€â”€ TimesNet.sh            # åŸºçº¿
â”‚   â”œâ”€â”€ VoltageTimesNet.sh     # åˆ›æ–°1
â”‚   â”œâ”€â”€ TPATimesNet.sh         # åˆ›æ–°2
â”‚   â”œâ”€â”€ MTSTimesNet.sh         # åˆ›æ–°3
â”‚   â”œâ”€â”€ HybridTimesNet.sh      # åˆ›æ–°4
â”‚   â”œâ”€â”€ run_baselines.sh       # åŸºçº¿é›†åˆ
â”‚   â””â”€â”€ run_ablation.sh        # æ¶ˆèå®éªŒ
â”œâ”€â”€ MSL/                       # å¾…åˆ›å»º
â”œâ”€â”€ SMAP/                      # å¾…åˆ›å»º
â”œâ”€â”€ SMD/                       # å¾…åˆ›å»º
â”œâ”€â”€ SWAT/                      # å¾…åˆ›å»º
â””â”€â”€ common/
    â””â”€â”€ analyze_comparison_results.py  # åˆ†æè„šæœ¬ âœ…
```

### 6.2 å…³é”®è®­ç»ƒå‘½ä»¤

```bash
# PSM å¯¹æ¯”å®éªŒ
cd code && bash scripts/PSM/run_comparison.sh

# RuralVoltage åŸºçº¿å®éªŒ
bash scripts/RuralVoltage/run_baselines.sh

# RuralVoltage æ¶ˆèå®éªŒ
bash scripts/RuralVoltage/run_ablation.sh

# å•æ¨¡å‹è®­ç»ƒç¤ºä¾‹
python run.py --is_training 1 --model TimesNet --data PSM \
  --root_path ./dataset/PSM/ --seq_len 100 --d_model 64 \
  --train_epochs 10 --batch_size 32
```

---

## ä¸ƒã€åˆ›æ–°æ¨¡å‹è¯¦è§£

### 7.1 VoltageTimesNet

**æ–‡ä»¶**: `models/VoltageTimesNet.py` (433è¡Œ)

**æ ¸å¿ƒåˆ›æ–°**: é¢„è®¾å‘¨æœŸä¸FFTæ··åˆç­–ç•¥

**æŠ€æœ¯ç»†èŠ‚**:
- ç”µç½‘å›ºæœ‰å‘¨æœŸ: 1min(60ç‚¹), 5min(300ç‚¹), 15min(900ç‚¹), 1h(3600ç‚¹)
- èåˆæ¯”ä¾‹: 70% FFTåŠ¨æ€å‘ç° + 30% é¢„è®¾å‘¨æœŸæƒé‡
- æ—¶åŸŸå¹³æ»‘å±‚: æ·±åº¦å¯åˆ†ç¦»1Då·ç§¯æŠ‘åˆ¶é«˜é¢‘å™ªå£°
- ä¸‰ç›¸ç”µå‹ç›¸å…³æ€§æ„ŸçŸ¥è®¾è®¡

**PSM F1**: 97.31% (ç¬¬2å)

### 7.2 TPATimesNet

**æ–‡ä»¶**: `models/TPATimesNet.py` (360è¡Œ)

**æ ¸å¿ƒåˆ›æ–°**: ä¸‰ç›¸æ³¨æ„åŠ›æœºåˆ¶

**æŠ€æœ¯ç»†èŠ‚**:
- æ˜¾å¼å»ºæ¨¡Vaã€Vbã€Vcä¹‹é—´çš„å…³ç³»
- 120Â°ç›¸ä½å·®çº¦æŸ
- ç›¸ä½æ„ŸçŸ¥ä½ç½®ç¼–ç 
- ä¸‰ç›¸ä¸å¹³è¡¡æ„ŸçŸ¥æŸå¤±å‡½æ•°
- åˆ©ç”¨æ­£å¸¸ä¸‰ç›¸ç³»ç»Ÿçš„ç‰©ç†çº¦æŸæ£€æµ‹å¼‚å¸¸

**PSM F1**: 97.27% (ç¬¬3å)

### 7.3 MTSTimesNet

**æ–‡ä»¶**: `models/MTSTimesNet.py` (414è¡Œ)

**æ ¸å¿ƒåˆ›æ–°**: å¤šå°ºåº¦æ—¶åºå»ºæ¨¡

**æŠ€æœ¯ç»†èŠ‚**:
- å¹¶è¡Œå¤šå°ºåº¦åˆ†æ”¯ (çŸ­æœŸ/ä¸­æœŸ/é•¿æœŸ)
  - çŸ­æœŸ (ç§’åˆ°åˆ†é’Ÿ): ç¬å˜äº‹ä»¶ã€ç”µå‹éª¤é™
  - ä¸­æœŸ (åˆ†é’Ÿåˆ°å°æ—¶): è´Ÿè·å˜åŒ–ã€æ—¥å¸¸æ¨¡å¼
  - é•¿æœŸ (å°æ—¶åˆ°å¤©): å­£èŠ‚æ¨¡å¼ã€ç³»ç»Ÿæ€§é—®é¢˜
- ScaleSpecificTimesBlock with adaptive fusion gate
- è·¨å°ºåº¦æ®‹å·®è¿æ¥

**PSM F1**: 96.29% (ç¬¬5å)

### 7.4 HybridTimesNet

**æ–‡ä»¶**: `models/HybridTimesNet.py` (422è¡Œ)

**æ ¸å¿ƒåˆ›æ–°**: æ··åˆå‘¨æœŸå‘ç°

**æŠ€æœ¯ç»†èŠ‚**:
- PresetPeriodBlock å¤„ç†å·²çŸ¥ç”µæ°”å‘¨æœŸ
  - 20ms (1ç”µæ°”å‘¨æœŸ), 100ms (5å‘¨æœŸ), 1s (50å‘¨æœŸ), 60s, 900s, 3600s
- FFTå‘ç°æ¨¡å—ä¸é¢„è®¾å‘¨æœŸèåˆ
- ç½®ä¿¡åº¦åŠ æƒèåˆæœºåˆ¶
- å‘¨æœŸé‡è¦æ€§è¯„åˆ†å­¦ä¹ 

**PSM F1**: å¾…æµ‹è¯•

---

## å…«ã€å¾…å®Œæˆä»»åŠ¡æ¸…å•

### 8.1 é«˜ä¼˜å…ˆçº§

- [ ] è¿è¡Œ RuralVoltage å®Œæ•´å¯¹æ¯”å®éªŒ
- [ ] éªŒè¯4ä¸ªåˆ›æ–°æ¨¡å‹åœ¨å†œæ‘ç”µå‹æ•°æ®ä¸Šçš„ä¼˜åŠ¿
- [ ] å®Œå–„è®ºæ–‡ç¬¬äºŒç« ï¼šTimesNetåŸç†å’Œåˆ›æ–°æ¨¡å‹

### 8.2 ä¸­ä¼˜å…ˆçº§

- [ ] è¡¥å…… MSL/SMAP/SMD/SWAT æ•°æ®é›†å®éªŒ
- [ ] æ¶ˆèå®éªŒï¼šé¢„è®¾å‘¨æœŸæ¯”ä¾‹å½±å“
- [ ] æ¶ˆèå®éªŒï¼šåºåˆ—é•¿åº¦å½±å“
- [ ] å®Œå–„è®ºæ–‡ç¬¬ä¸‰ç« ï¼šå®éªŒç»“æœåˆ†æ

### 8.3 ä½ä¼˜å…ˆçº§

- [ ] å®Œå–„è®ºæ–‡ç¬¬å››ç« ï¼šç›‘ç®¡å¹³å°è®¾è®¡
- [ ] å®Œå–„è®ºæ–‡ç¬¬äº”ç« ï¼šç»“è®ºä¸å±•æœ›
- [ ] è®ºæ–‡ç¼–è¯‘å’Œæ ¼å¼è°ƒæ•´

---

## ä¹ã€å…³é”®æ–‡ä»¶è·¯å¾„ç´¢å¼•

### ä»£ç æ ¸å¿ƒ
- `/code/models/VoltageTimesNet.py` - é¢„è®¾å‘¨æœŸTimesNet
- `/code/models/TPATimesNet.py` - ä¸‰ç›¸æ³¨æ„åŠ›TimesNet
- `/code/models/MTSTimesNet.py` - å¤šå°ºåº¦æ—¶åºTimesNet
- `/code/models/HybridTimesNet.py` - æ··åˆå‘¨æœŸTimesNet
- `/code/run.py` - ä¸»å…¥å£è„šæœ¬
- `/code/exp/exp_anomaly_detection.py` - å®éªŒæ¡†æ¶

### æ•°æ®é›†
- `/code/dataset/PSM/` - PSMæ•°æ®é›†
- `/code/dataset/RuralVoltage/` - å†œæ‘ç”µå‹æ•°æ®é›†
- `/code/dataset/RuralVoltage/comprehensive/` - ç»¼åˆè¯„ä¼°å­æ•°æ®é›†

### å®éªŒç»“æœ
- `/code/results/PSM_comparison_20260125_013217/` - PSMå¯¹æ¯”å®éªŒ
- `/code/checkpoints/` - æ¨¡å‹æ£€æŸ¥ç‚¹

### è®ºæ–‡
- `/thesis/bjfuthesis-main.tex` - è®ºæ–‡ä¸»æ–‡ä»¶
- `/thesis/contents/chap0*.tex` - å„ç« èŠ‚æ–‡ä»¶

---

## åã€ä¸‹ä¸€æ­¥è¡ŒåŠ¨å»ºè®®

1. **ç«‹å³æ‰§è¡Œ**: è¿è¡Œ RuralVoltage æ•°æ®é›†å®éªŒï¼ŒéªŒè¯åˆ›æ–°æ¨¡å‹ä¼˜åŠ¿
2. **æœ¬å‘¨å®Œæˆ**: è¡¥å……å…¶ä»–4ä¸ªæ ‡å‡†æ•°æ®é›†å®éªŒ
3. **ä¸‹å‘¨å®Œæˆ**: å®Œå–„è®ºæ–‡ç¬¬äºŒã€ä¸‰ç« æ ¸å¿ƒå†…å®¹
4. **æœˆåº•å‰**: å®Œæˆè®ºæ–‡åˆç¨¿

---

*æœ¬æ–‡æ¡£ç”± Claude Code è‡ªåŠ¨ç”Ÿæˆï¼Œè®°å½•é¡¹ç›®æ¢ç´¢ç»“æœå’Œä»»åŠ¡çŠ¶æ€*
