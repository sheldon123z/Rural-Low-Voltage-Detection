# 农村低压配电网电压异常检测项目 - 文档总结

> **生成时间**: 2026-02-02
> **总结范围**: `code/docs/` 目录全部文档
> **用途**: Notion任务记录

---

## 📋 项目概况

**项目名称**: 农村低压配电网电压异常检测研究
**核心技术**: 基于TimesNet的时序异常检测
**当前状态**: 实验进行中 (64%完成度)
**论文进度**: 第三、四章待更新实验结果

---

## 📂 文档结构概览

### 核心文档 (14个主文档 + 2个子目录)

```
code/docs/
├── README_论文写作材料索引.md          # 📑 文档导航
├── 项目状态报告_20260201.md            # 📊 进度跟踪
├── 实验结果汇总_论文写作材料.md        # 🔬 实验数据
├── TimesNet算法描述_论文写作材料.md    # 🧠 模型原理
├── VoltageTimesNet_v2_results.md       # ⚡ 新模型结果
├── 图表资源清单_论文写作材料.md        # 📊 图表管理
├── 图表生成指南_论文写作材料.md        # 🎨 绘图指南
├── 全文一致性检查_写作材料.md          # ✅ 质量检查
├── 讨论部分_写作材料.md                # 💬 论文讨论
├── 可解释性分析_写作材料.md            # 🔍 模型解释
├── 第四章数据修正_写作材料.md          # 📝 数据更新
├── alpha消融实验结果_写作材料.md       # 🧪 消融实验
├── 序列长度消融实验结果_写作材料.md    # 🧪 参数优化
├── 消融实验处理方案_写作材料.md        # 📋 实验方案
└── model_architectures/                # 🏗️ 模型架构文档
    ├── 01_TimesNet.md
    ├── 02_VoltageTimesNet.md
    ├── 03_VoltageTimesNet_v2.md
    ├── 04_TPATimesNet.md
    ├── 05_MTSTimesNet.md
    └── 06_DLinear.md
```

---

## 🎯 核心发现与成果

### 1. 实验进度（截至2026-02-01）

| 数据集 | 已完成模型 | 完成率 | 最优F1 | 最优召回率 |
|:------:|:----------:|:------:|:------:|:----------:|
| PSM | 8/8 | 100% | 0.9735 | 96.25% |
| RuralVoltage | 3/6 | 50% | 0.6191 | **71.13%** |
| KagglePQ | 0/5 | 0% | - | - |
| MSL/SMAP/SMD | 3/3 | 100% | 0.8246 | 87.19% |
| **总计** | **14/22** | **64%** | - | - |

**当前运行**: RuralVoltage 完整6模型对比实验（TimesNet进行中，Epoch 5/10）

### 2. 突破性成果：VoltageTimesNet_v2

#### 核心改进
- ✅ **可学习预设权重**: 从硬编码变为可训练参数
- ✅ **电能质量编码器**: 新增专用特征编码模块
- ✅ **多尺度时域卷积**: 并行3/5/7卷积核
- ✅ **异常敏感度增强**: 专用异常放大模块
- ✅ **三相约束**: 电压数据的物理约束

#### 性能突破
| 指标 | 原版 | v2版 | 提升 |
|------|:----:|:----:|:----:|
| **召回率** | 59.60% | **71.13%** | +11.53% ✨ |
| F1分数 | 0.6191 | 0.6178 | -0.21% |
| 精确率 | 89.83% | 54.63% | -35.20% |

**关键发现**: 通过 `anomaly_ratio=3.0` 阈值调优，实现召回率突破70%目标！

### 3. PSM数据集验证结果

| 排名 | 模型 | F1分数 | 关键特性 |
|:----:|------|:------:|----------|
| 1 | **TimesNet** | 0.9735 | 基线最优 |
| 2 | VoltageTimesNet | 0.9731 | 领域知识融合 |
| 3 | TPATimesNet | 0.9727 | 三相注意力 |
| 4 | DLinear | 0.9661 | 轻量级 |

**结论**: TimesNet系列模型在服务器监控数据上表现优异，验证了模型设计有效性。

### 4. 新增数据集：KagglePQ

- **规模**: 11,998 条 × 128 维波形信号
- **类别**: 5类平衡（Normal, Transient, Sag, Swell, Harmonics）
- **训练集**: 2,400条纯正常数据
- **测试集**: 9,598条（6.3%正常，93.7%异常）
- **状态**: 数据加载器已实现，待运行实验

---

## 📊 数据集详细信息

### RuralVoltage (realistic_v2) - 农村电压数据

#### 特征定义（16维）
| 类别 | 特征 | 正常范围 | 说明 |
|------|------|----------|------|
| 三相电压 | Va, Vb, Vc | 198-242V | 相电压(GB/T 12325) |
| 三相电流 | Ia, Ib, Ic | 0-100A | 负荷电流 |
| 功率 | P, Q, S, PF | - | 有功/无功/视在/功率因数 |
| 电能质量 | THD_Va/b/c | <5% | 谐波失真率 |
| 不平衡 | V_unbalance, I_unbalance | <2%/10% | 三相不平衡度 |
| 频率 | Freq | 49.5-50.5Hz | 电网频率 |

#### 异常类型（基于国标GB/T 12325-2008）
1. **欠压**: V < 198V (90%标称)
2. **过压**: V > 242V (110%标称)
3. **电压骤降**: 瞬时下降 >10%
4. **谐波畸变**: THD > 5%
5. **三相不平衡**: 不平衡度 > 2%

#### 数据规模
- 训练集: 50,000 样本
- 测试集: 10,000 样本
- 异常比例: ~14.6%

---

## 📈 论文章节状态

| 章节 | 标题 | 完成度 | 待更新内容 |
|:----:|------|:------:|-----------|
| 第一章 | 绪论 | ✅ 100% | - |
| 第二章 | 数据采集与预处理 | ✅ 100% | - |
| 第三章 | 算法设计 | 📝 90% | VoltageTimesNet_v2架构描述 |
| 第四章 | 实验分析 | 🔄 75% | v2结果、完整对比、KagglePQ |
| 第五章 | 平台设计 | ✅ 100% | - |
| 第六章 | 结论展望 | ✅ 100% | - |

### 第三章待补充（估计3-5页）
- [ ] VoltageTimesNet_v2 网络架构图
- [ ] 多尺度时域卷积原理说明
- [ ] 异常敏感度增强模块描述
- [ ] 召回率优化策略论证

### 第四章待补充（估计8-10页）
- [ ] VoltageTimesNet_v2 完整实验结果
- [ ] RuralVoltage 6模型对比分析（进行中）
- [ ] KagglePQ数据集实验（待运行）
- [ ] 阈值敏感性分析
- [ ] 消融实验结果整合

---

## 🔧 模型架构文档

### 已完成模型文档（6个）

1. **TimesNet** - 基线模型
   - FFT周期发现 + 2D Inception卷积
   - PSM最优: F1=0.9735

2. **VoltageTimesNet** - 领域融合v1
   - 预设周期混合（工频50Hz）
   - 固定权重 preset_weight=0.3

3. **VoltageTimesNet_v2** - 召回率优化版 ⭐
   - 可学习预设权重
   - 电能质量编码器
   - 多尺度卷积 + 异常增强
   - 召回率71.13%突破

4. **TPATimesNet** - 三相注意力
   - Phase Attention机制
   - PSM: F1=0.9727

5. **MTSTimesNet** - 多尺度时序
   - 多分辨率并行建模

6. **DLinear** - 轻量级基线
   - 线性分解
   - 参数量小，速度快

---

## 🎨 图表资源状态

### 已有图表（待整理）
- ✅ TimesNet架构图
- ✅ PSM实验对比图
- ✅ 数据集统计图
- ✅ 异常类型分布图

### 待生成图表
- [ ] VoltageTimesNet_v2 架构图
- [ ] RuralVoltage 完整对比图
- [ ] KagglePQ 实验结果图
- [ ] 消融实验对比图
- [ ] 阈值敏感性曲线

---

## ⏭️ 后续任务优先级

### 🔴 高优先级（立即）
1. ⏳ **等待完整实验完成** (预计2-3小时)
   - RuralVoltage 6模型对比
   - KagglePQ 5模型对比

2. 📝 **更新论文第四章**
   - 添加 VoltageTimesNet_v2 结果
   - 整合完整对比数据
   - 补充实验分析

3. 📊 **生成新图表**
   - 模型对比柱状图
   - 召回率对比图
   - 混淆矩阵

### 🟡 中优先级（本周）
1. 📝 **更新论文第三章**
   - VoltageTimesNet_v2 架构描述
   - 召回率优化策略说明

2. 🧪 **消融实验**
   - alpha混合比例消融
   - 序列长度消融
   - 模型组件消融

3. 🎨 **图表优化**
   - 统一配色方案
   - 提高分辨率
   - 添加中文标注

### 🟢 低优先级（后续）
1. 📄 **文档整理**
   - archive 过时文档
   - 统一命名规范
   - 补充使用说明

2. 🔍 **可解释性分析**
   - 注意力权重可视化
   - 周期选择分析
   - 特征重要性评估

---

## 💡 关键洞察与建议

### 技术洞察
1. **召回率vs精确率权衡**
   - 电网监控场景：召回率优先（漏检代价高）
   - 通过 `anomaly_ratio` 参数可灵活调节
   - v2模型在召回率上显著优于基线

2. **领域知识融合有效性**
   - 预设工频周期（50Hz）显著提升性能
   - 电能质量特征编码器专门处理THD、不平衡等
   - 三相约束确保物理一致性

3. **多尺度建模必要性**
   - 电压异常时间尺度多样（瞬时/持续）
   - 多kernel卷积捕获不同时间粒度特征

### 实验建议
1. **阈值优化**: 根据实际应用场景调整 `anomaly_ratio`
2. **数据增强**: realistic_v2数据更贴近真实，建议后续采用
3. **集成学习**: 考虑TimesNet + VoltageTimesNet_v2融合

---

## 📌 文档使用指南

### 快速查找
- **最新进度**: `项目状态报告_20260201.md`
- **实验数据**: `实验结果汇总_论文写作材料.md`
- **模型原理**: `TimesNet算法描述_论文写作材料.md`
- **新模型**: `VoltageTimesNet_v2_results.md`
- **图表**: `图表资源清单_论文写作材料.md`

### 论文写作对应
- **第二章**: 实验结果汇总 → 数据集部分
- **第三章**: TimesNet算法描述 + model_architectures/
- **第四章**: 实验结果汇总 + VoltageTimesNet_v2_results
- **图表**: 图表资源清单 + 图表生成指南

---

## 📞 相关资源

- **项目根目录**: `/home/zhengxiaodong/exps/Rural-Low-Voltage-Detection/`
- **代码目录**: `code/`
- **论文目录**: `thesis/`
- **项目指南**: `CLAUDE.md`
- **实验脚本**: `code/scripts/`

---

## 🔄 更新记录

| 日期 | 更新内容 |
|:----:|----------|
| 2026-02-02 | 创建文档总结，整合14个主文档内容 |
| 2026-02-01 | VoltageTimesNet_v2发布，实验进度64% |
| 2026-01-25 | PSM完整实验完成，8模型对比 |

---

*本文档由Claude Code自动生成，基于 `code/docs/` 目录全部材料整理*
