# 农村低压配电网电压异常检测 - 项目状态报告

> **生成时间**: 2026-02-01 (自动更新)
> **报告类型**: 实验进度与论文准备状态

---

## 一、实验进度总览

### 1.1 实验完成度统计

| 数据集 | 计划模型数 | 已完成 | 完成率 | 最优F1 | 最优召回率 |
|:------:|:----------:|:------:|:------:|:------:|:----------:|
| PSM | 8 | 8 | 100% | 0.9735 | 0.9625 |
| RuralVoltage | 6 | 3 | 50% | 0.6191 | **0.7113** |
| KagglePQ | 5 | 0 | 0% | - | - |
| SMD | 1 | 1 | 100% | 0.8246 | 0.8719 |
| MSL | 1 | 1 | 100% | 0.7636 | 0.6891 |
| SMAP | 1 | 1 | 100% | 0.6865 | 0.5567 |
| **总计** | **22** | **14** | **64%** | - | - |

### 1.2 当前运行中实验

| 实验 | 开始时间 | 当前状态 | 进度 |
|------|:--------:|:--------:|:----:|
| TimesNet on RuralVoltage | 02-01 23:54 | 🔄 训练中 | Epoch 5/10 |
| VoltageTimesNet on RuralVoltage | - | ⏳ 队列中 | - |
| VoltageTimesNet_v2 on RuralVoltage | - | ⏳ 队列中 | - |
| TPATimesNet on RuralVoltage | - | ⏳ 队列中 | - |
| DLinear on RuralVoltage | - | ⏳ 队列中 | - |
| PatchTST on RuralVoltage | - | ⏳ 队列中 | - |
| 5 模型 on KagglePQ | - | ⏳ 队列中 | - |

### 1.3 最新更新 (2026-02-01)

- ✅ **VoltageTimesNet_v2 发布**: 召回率优化模型，达成 71.13% 召回率目标
- ✅ **Kaggle 数据集适配**: 新增 KagglePQ 电力质量波形数据集
- ✅ **realistic_v2 数据集**: 更新 RuralVoltage 为更真实的版本 (50K 训练样本)
- 🔄 **完整对比实验**: 正在运行 6 模型 × RuralVoltage + 5 模型 × KagglePQ

---

## 二、核心实验结果

### 2.1 PSM 数据集 (基准验证) ✅ 完成

**结论**: TimesNet 系列模型表现优异

| 排名 | 模型 | F1分数 | 关键发现 |
|:----:|:-----|:------:|----------|
| 1 | TimesNet | 0.9735 | 最优整体性能 |
| 2 | VoltageTimesNet | 0.9731 | 领域知识融合有效 |
| 3 | TPATimesNet | 0.9727 | 三相注意力有效 |
| 4 | DLinear | 0.9661 | 轻量级优选 |

### 2.2 RuralVoltage 数据集 (创新验证) 🔄 进行中

**最新结果** (realistic_v2 数据集):

| 排名 | 模型 | Accuracy | Precision | Recall | F1 | 特点 |
|:----:|:-----|:--------:|:---------:|:------:|:--:|:----:|
| 1 | **VoltageTimesNet_v2** | 0.8652 | 0.5463 | **0.7113** | 0.6178 | 召回率最优 |
| 2 | TPATimesNet | 0.8303 | 0.8983 | 0.4723 | **0.6191** | F1最优 |
| 3 | TimesNet | 0.8259 | 0.8939 | 0.4582 | 0.6059 | 基线 |

**关键发现**:
- VoltageTimesNet_v2 召回率突破 70%，是首个在电压数据上达成高召回率的模型
- 通过阈值调整 (anomaly_ratio=3.0) 实现精确率-召回率权衡优化
- 三相注意力机制 (TPA) 在 F1 分数上仍然领先

### 2.3 KagglePQ 数据集 ⏳ 待运行

**数据集特点**:
- 128 维原始电力质量波形
- 5 类电力质量问题（Normal, Transient, Sag, Swell, Harmonics）
- 适用于验证模型在公开数据集上的泛化能力

---

## 三、新增模型：VoltageTimesNet_v2

### 3.1 核心改进

| 改进点 | 原版 | v2版 |
|--------|------|------|
| 预设权重 | 固定 30% | 可学习参数 |
| 异常检测 | 单一重构误差 | 敏感度增强模块 |
| 时域建模 | 单尺度卷积 | 多尺度 (3/5/7) 并行 |
| 特征编码 | 通用嵌入 | 电能质量专用编码器 |
| 阈值策略 | 固定 99% | 可调 (支持 95-99%) |

### 3.2 召回率优化效果

| anomaly_ratio | Precision | Recall | F1 |
|:-------------:|:---------:|:------:|:--:|
| 1.0 (默认) | 0.9939 | 0.6197 | 0.7634 |
| 3.0 (推荐) | 0.5463 | **0.7113** | 0.6178 |
| 5.0 | 0.3584 | 0.7749 | 0.4901 |

---

## 四、论文准备状态

### 4.1 章节完成度

| 章节 | 标题 | 状态 | 完成度 |
|:----:|------|:----:|:------:|
| 第一章 | 绪论 | ✅ 完成 | 100% |
| 第二章 | 数据采集与预处理 | ✅ 完成 | 100% |
| 第三章 | 基于TimesNet的电压异常检测算法 | 📝 待更新 | 90% |
| 第四章 | 实验设计与结果分析 | 🔄 待更新 | 75% |
| 第五章 | 监管平台设计与实现 | ✅ 完成 | 100% |
| 第六章 | 结论与展望 | ✅ 完成 | 100% |

### 4.2 待更新内容

**第三章需要添加**:
- [ ] VoltageTimesNet_v2 模型架构描述
- [ ] 召回率优化策略说明
- [ ] 多尺度时域卷积原理

**第四章需要添加**:
- [ ] VoltageTimesNet_v2 实验结果
- [ ] KagglePQ 数据集实验 (待完成)
- [ ] 完整 RuralVoltage 6模型对比 (进行中)
- [ ] 阈值敏感性分析

---

## 五、后续任务优先级

### 5.1 高优先级 (立即)

1. ⏳ 等待完整实验完成 (预计 2-3 小时)
2. 📝 根据实验结果更新论文第四章
3. 📊 生成实验图表

### 5.2 中优先级 (本周)

1. 🔬 运行消融实验 (混合周期比例, 序列长度)
2. 📝 更新论文第三章 (VoltageTimesNet_v2 描述)
3. 🎨 生成新的对比图表

---

## 六、文件更新日志

| 文件 | 更新内容 | 时间 |
|------|---------|:----:|
| `models/VoltageTimesNet_v2.py` | 新增召回率优化模型 | 02-01 |
| `data_provider/data_loader.py` | 新增 KagglePQSegLoader | 02-01 |
| `data_provider/data_factory.py` | 注册 KagglePQ 数据集 | 02-01 |
| `scripts/full_experiment.sh` | 完整实验脚本 | 02-01 |
| `docs/VoltageTimesNet_v2_results.md` | v2 实验结果文档 | 02-01 |
| `README.md` | 更新模型和数据集列表 | 02-01 |
| `CLAUDE.md` | 更新项目指南 | 02-01 |

---

*报告自动生成于 2026-02-01*
